window&&window.requestAnimationFrame||(window.requestAnimationFrame=()=>null,window.cancelAnimationFrame=()=>null);const e={rAF:[],fps:60,then:Date.now()},n=t=>{const{rAF:r}=e;if(e.interval=1e3/e.fps,e.now=Date.now(),e.delta=e.now-e.then,e.delta>e.interval){e.then=e.now-e.delta%e.interval;for(let e=0,{length:n}=r;e<n;e+=1)r[e](t)}return requestAnimationFrame(n)},t=()=>{e.id&&window.cancelAnimationFrame(e.id),e.id=null,e.rAF=null},r=n=>{e.rAF.push(n)},i=n=>{const{rAF:t}=e;for(let r=0,{length:i}=t;r<i;r+=1)t[r]===n&&(e.rAF.splice(r,1),r--)},a=a=>{var o;return a.fps&&(e.fps=a.fps),e.id=null==(o=window)?void 0:o.requestAnimationFrame(n),{reset:t,add:r,remove:i,update:n,store:e}};export{a as default,t as resetUpdate,e as store,r as subscribeUpdate,i as unsubscribeUpdate,n as update};
//# sourceMappingURL=index.modern.js.map
